<script>
function show(id){
    document.querySelectorAll('.section').forEach(s=>s.style.display='none');
    document.getElementById(id).style.display='block';
}

function copyIban(){
    navigator.clipboard.writeText(document.getElementById("iban").innerText)
    .then(()=>alert("IBAN kopyalandı"));
}

// Ders verileri
let lessons = [
{kategori:"9. Sınıf",isim:"Matematik",pdf:"pdfler/matematik9.pdf"},
{kategori:"9. Sınıf",isim:"Fizik",pdf:"pdfler/fizik9.pdf"},
{kategori:"9. Sınıf",isim:"Kimya",pdf:"pdfler/kimya9.pdf"},
{kategori:"9. Sınıf",isim:"Biyoloji",pdf:"pdfler/biyoloji9.pdf"},
{kategori:"10. Sınıf",isim:"Matematik",pdf:"pdfler/matematik10.pdf"},
{kategori:"10. Sınıf",isim:"Fizik",pdf:"pdfler/fizik10.pdf"},
{kategori:"10. Sınıf",isim:"Kimya",pdf:"pdfler/kimya10.pdf"},
{kategori:"10. Sınıf",isim:"Biyoloji",pdf:"pdfler/biyoloji10.pdf"},
{kategori:"11. Sınıf",isim:"Matematik",pdf:"pdfler/matematik11.pdf"},
{kategori:"11. Sınıf",isim:"Fizik",pdf:"pdfler/fizik11.pdf"},
{kategori:"11. Sınıf",isim:"Kimya",pdf:"pdfler/kimya11.pdf"},
{kategori:"11. Sınıf",isim:"Biyoloji",pdf:"pdfler/biyoloji11.pdf"},
{kategori:"12. Sınıf",isim:"Matematik",pdf:"pdfler/matematik12.pdf"},
{kategori:"12. Sınıf",isim:"Fizik",pdf:"pdfler/fizik12.pdf"},
{kategori:"12. Sınıf",isim:"Kimya",pdf:"pdfler/kimya12.pdf"},
{kategori:"12. Sınıf",isim:"Biyoloji",pdf:"pdfler/biyoloji12.pdf"},
{kategori:"Yazılım",isim:"Python",pdf:"pdfler/python.pdf"},
{kategori:"Yazılım",isim:"Java",pdf:"pdfler/java.pdf"},
{kategori:"Office",isim:"Excel",pdf:"pdfler/excel.pdf"},
{kategori:"Office",isim:"Word",pdf:"pdfler/word.pdf"}
];

// Kategorileri ve dersleri listele
function updateCategories(){
    const catDiv=document.getElementById("categories");
    catDiv.innerHTML="";
    let cats=[...new Set(lessons.map(l=>l.kategori))];
    cats.forEach(c=>{
        let b=document.createElement("button");
        b.className="category-btn";
        b.innerText=c;
        b.onclick=()=>showLessons(c);
        catDiv.appendChild(b);
    });
}

// Seçilen kategoriye göre dersleri göster
function showLessons(cat){
    const listDiv=document.getElementById("lessonsList");
    listDiv.innerHTML="";
    lessons.filter(l=>l.kategori===cat).forEach(l=>{
        let div=document.createElement("div");
        div.className="lesson";
        let nameSpan=document.createElement("span");
        nameSpan.innerText=l.isim;
        nameSpan.onclick=()=>window.open(l.pdf,"_blank");
        let buyBtn=document.createElement("button");
        buyBtn.innerText="PDF Satın Al";
        buyBtn.onclick=()=>window.open(l.pdf,"_blank");
        div.appendChild(nameSpan);
        div.appendChild(buyBtn);
        listDiv.appendChild(div);
    });
}

// Admin giriş
function loginAdmin(){
    const pass=document.getElementById("adminPass").value;
    if(pass==="2332"){
        document.getElementById("loginResult").style.color="lime";
        document.getElementById("loginResult").innerText="✅ Giriş başarılı!";
        document.getElementById("lessonAdd").style.display="block";
    }else{
        document.getElementById("loginResult").style.color="red";
        document.getElementById("loginResult").innerText="❌ Hatalı şifre!";
    }
}

// Ders ekleme
function addLesson(){
    const name=document.getElementById("lessonName").value.trim();
    const cat=document.getElementById("lessonCategory").value;
    const pdf=document.getElementById("lessonPDF").value.trim();
    if(name && pdf){
        lessons.push({kategori:cat,isim:name,pdf:pdf});
        updateCategories();
        alert("Ders eklendi!");
        document.getElementById("lessonName").value="";
        document.getElementById("lessonPDF").value="";
    }else{
        alert("Lütfen ders adı ve PDF dosya adını girin!");
    }
}

// Sayfa yüklendiğinde kategorileri oluştur
window.onload=()=>updateCategories();
</script>
